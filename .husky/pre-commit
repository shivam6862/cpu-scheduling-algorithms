#!/bin/bash

echo "Checking for changes in web/src..."
if git diff --quiet HEAD web/src; then
  echo "No changes detected in web/src. Skipping build..."
else
  echo "Changes detected in web/src. Running npm run build..."
  cd web
  if npm run build; then
    echo "Build successful. Proceeding..."
  else
    echo "Build failed. Please fix the errors and try again."
    exit 1
  fi
fi